{% extends "layout.html" %}

{% block title %}
    My Tags
{% endblock %}

{% block main %}
<div class="space-y-6">
    <h1 class="text-2xl font-bold text-gray-900 mb-6">My Tags</h1>

    <div id="tags-filter-controls" class="bg-white shadow-md rounded-xl border border-gray-200 p-4 grid grid-cols-1 gap-4">
        <div class="relative">
          <label for="tag-filter-button" class="block text-sm font-medium text-gray-700 mb-1">Filter by Tags</label>
          <button type="button" id="tag-filter-button" aria-haspopup="listbox" aria-expanded="false"
            class="relative w-full cursor-default rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 text-left text-sm text-gray-700 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 hover:bg-gray-50">
            <span id="tag-filter-button-text" class="block truncate">All Tags</span>
            <span class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2">
              <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd" d="M10 3a.75.75 0 01.53.22l3.5 3.5a.75.75 0 01-1.06 1.06L10 4.81 7.03 7.78a.75.75 0 01-1.06-1.06l3.5-3.5A.75.75 0 0110 3z" clip-rule="evenodd" />
                <path fill-rule="evenodd" d="M10 17a.75.75 0 01-.53-.22l-3.5-3.5a.75.75 0 011.06-1.06L10 15.19l2.97-2.97a.75.75 0 011.06 1.06l-3.5 3.5A.75.75 0 0110 17z" clip-rule="evenodd" />
              </svg>
            </span>
          </button>
          <div id="tag-filter-dropdown"
               class="absolute z-10 mt-1 w-full rounded-md bg-white shadow-lg border border-gray-200 hidden max-h-60 overflow-y-auto focus:outline-none ring-1 ring-black ring-opacity-5">
             <div id="tag-filter-options" class="px-2 py-1 space-y-1" role="listbox">
               <div class="text-center text-xs text-gray-500 py-2">Loading tags...</div>
             </div>
             <div class="border-t border-gray-200 px-3 py-2">
               <button type="button" id="clear-tag-filter-button" class="w-full text-center text-xs font-medium text-blue-600 hover:text-blue-800 focus:outline-none">
                 Clear selection
               </button>
             </div>
          </div>
        </div>
   </div>

    <div class="mt-8 space-y-6">
        <div>
            <h2 class="text-xl font-semibold text-gray-800 mb-3">Associated Decks</h2>
            <div id="associated-decks-list" class="text-center text-gray-500 mt-8 p-4 text-base border border-dashed border-gray-300 rounded-lg md:col-span-2 xl:col-span-3">
                <p class="text-gray-500 italic text-sm">Select tags above to view associated decks.</p>
            </div>
        </div>
        <div>
            <h2 class="text-xl font-semibold text-gray-800 mb-3">Associated Matches</h2>
            <div id="associated-matches-list" class="text-center text-gray-500 mt-8 p-4 text-base border border-dashed border-gray-300 rounded-lg md:col-span-2 xl:col-span-3">
                <p class="text-gray-500 italic text-sm">Select tags above to view associated matches.</p>
            </div>
        </div>
    </div>

</div>
{% endblock %}

{% block scripts %}
    <script type="module" src="{{ url_for('static', filename='js/ui/tags/user-tags.js') }}"></script>
{% endblock %}