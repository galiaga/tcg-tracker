{% extends "layout.html" %}

{% block title %}
    Reset Password
{% endblock %}

{% block main %}
    <div class="w-full max-w-md bg-white p-8 rounded-2xl shadow-xl space-y-6">
      <div class="flex justify-center">
        <img src="{{ url_for('static', filename='img/logo.png') }}"
             alt="TCG Tracker Logo" class="h-30 w-auto mb-2">
      </div>
      <form id="reset-password-form" class="space-y-6">
        <h2 class="text-2xl font-bold text-center text-violet-600">Set New Password</h2>

        {# Display area for GENERAL messages from JavaScript (like API errors) #}
        {# Ensure your layout.html or this template loads showFlashMessage #}

        <!-- New Password Input -->
        <div class="relative"> {# Added relative positioning for potential future icons #}
            <input id="password" type="password" placeholder="New Password" autocomplete="new-password" required
                   class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500" />
        </div>

        <!-- Confirmation Input -->
         <div class="relative">
            <input id="confirmation" type="password" placeholder="Confirm New Password" autocomplete="new-password" required
                   class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500" />
         </div>

        <!-- ADDED: Div for Password Complexity Errors -->
        <div id="password-errors" class="text-sm space-y-1" aria-live="assertive">
            {# Errors will be injected here by JavaScript #}
        </div>
        <!-- End Error Div -->

        <!-- Submit Button -->
        <button type="submit"
                class="w-full bg-violet-700 hover:bg-violet-600 text-white font-semibold py-3 rounded-xl shadow-md transition duration-300">
          Reset Password
        </button>

      </form>
       <!-- Link back to Login -->
       <a href="/login"
          class="block text-center text-sm text-violet-600 hover:underline mt-4">
         Back to Login
       </a>
    </div>
{% endblock %}

{% block scripts %}
    <script type="module" src="{{ url_for('static', filename='js/auth/reset-password.js') }}"></script>
    {# Load flash message script if separate #}
    {# <script src="{{ url_for('static', filename='js/utils/flashMessages.js') }}"></script> #}
{% endblock %}